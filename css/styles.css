        :root {
            /* ============================================================================
             * GAMEBOY COLOR PALETTE - Sistema de colores coherente y descriptivo
             * ============================================================================ */
            
            /* Colores principales GameBoy */
            --gb-primary: #9bbc0f;      /* Verde principal GameBoy */
            --gb-secondary: #8bac0f;    /* Verde secundario GameBoy */
            --gb-dark: #0f380f;         /* Verde oscuro GameBoy */
            --gb-accent: #306230;       /* Verde acento GameBoy */
            
            /* Estados y feedback visual */
            --gb-active: #0f380f;       /* Color para elementos activos/seleccionados */
            --gb-hover: #8bac0f;        /* Color para estados hover */
            --gb-disabled: #306230;     /* Color para elementos deshabilitados */
            --gb-focus: #306230;        /* Color para elementos con foco */
            
            /* Texto y contraste */
            --gb-text-primary: #0f380f; /* Texto principal con máximo contraste */
            --gb-text-secondary: #306230; /* Texto secundario */
            --gb-text-inverse: #9bbc0f;  /* Texto invertido (claro sobre oscuro) */
            
            /* Sombras y efectos */
            --gb-shadow-dark: #0f380f;  /* Sombra principal */
            --gb-shadow-light: #8bac0f; /* Sombra secundaria */
            --gb-border: #0f380f;       /* Bordes de elementos */
            
            /* Compatibilidad con nombres anteriores (mantener temporalmente) */
            --bg-color: var(--gb-primary);
            --shadow-color-dark: var(--gb-dark);
            --shadow-color-light: var(--gb-secondary);
            --text-color: var(--gb-text-primary);
            --accent-color: var(--gb-accent);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            image-rendering: pixelated;
        }
        
        body {
            background-color: var(--bg-color);
            font-family: 'Press Start 2P', monospace;
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 15px;
            touch-action: none;
            max-width: 100vw;
            overflow-x: hidden;
            position: relative;
        }

        /* Ajuste específico para móviles - Dynamic Viewport Height */
        @media (max-width: 768px) {
            body {
                min-height: 100dvh; /* Dynamic viewport height para móviles */
            }
        }

        /* Efecto de scanlines */
        body::after {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 0, 0, 0.1),
                rgba(0, 0, 0, 0.1) 1px,
                transparent 1px,
                transparent 2px
            );
            pointer-events: none;
            z-index: 1000;
        }

        /* Title Styles */
        .title-container {
            text-align: center;
            margin-bottom: 15px;
        }

        .title-container h1 {
            font-family: 'Press Start 2P', monospace;
            color: var(--text-color);
            font-size: 24px;
            text-shadow: 2px 2px 0 var(--shadow-color-dark);
            letter-spacing: 2px;
            margin-bottom: 15px;
        }

        /* Header Styles */
        .header-container {
            max-width: 100%;
            width: 100%;
            margin: 0 auto 20px;
        }

        .header-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .header-button {
            width: 100%;
            height: 50px;
            border-radius: 0;
            background: var(--bg-color);
            box-shadow: 4px 4px 0 var(--shadow-color-dark);
            border: 2px solid var(--shadow-color-dark);
            color: var(--text-color);
            font-family: 'Press Start 2P', monospace;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            transition: all 0.1s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .header-button:hover {
            background: var(--shadow-color-light);
        }

        .header-button:active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }
        
        .header-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .empty-space {
            width: 100%;
            height: 60px;
        }
        
        .header-row .header-button:first-child {
            color: var(--text-color);
        }
        
        /* BPM Button Long Press Styles */
        .bpm-button {
            transition: all 0.1s ease;
        }

        .bpm-button.long-pressing {
            background-color: var(--shadow-color-dark) !important;
            color: var(--bg-color) !important;
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }

        @keyframes bpmPulse {
            0%, 100% { 
                box-shadow: 2px 2px 0 var(--shadow-color-dark);
            }
            50% { 
                box-shadow: 4px 4px 0 var(--shadow-color-dark);
            }
        }
        
        /* Botón de Grabación (Record) */
        .btn-record {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-weight: normal;
            transition: all 0.3s ease;
        }
        
        /* NEW: Estilo para modo MIC cuando SHIFT está activo */
        .btn-record.mic-mode {
            background-color: var(--gb-active);
            color: #FFFFFF; /* Texto blanco para máximo contraste con fondo azul */
            border-color: var(--gb-active);
        }
        
        /* Botón de Overdub */
        .btn-overdub {
            background-color: var(--gb-accent);
            color: var(--gb-text-inverse);
            font-weight: normal;
            transition: all 0.3s ease;
        }
        
        .btn-overdub:hover {
            background-color: var(--gb-dark);
            transform: translate(1px, 1px);
            box-shadow: 1px 1px 0 var(--shadow-color-dark);
        }
        
        .btn-overdub.active {
            background-color: var(--gb-dark);
            color: var(--gb-text-inverse);
            font-weight: bold;
            transform: translate(2px, 2px);
            box-shadow: 0px 0px 0 var(--shadow-color-dark);
        }
        
        /* Botón de Reproducción (Play) */
        .btn-play {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-weight: normal;
        }
        
        /* Estilos para el botón de carga de samples */
        .btn-load {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-weight: normal;
        }

        .btn-load:hover {
            background-color: var(--shadow-color-light);
        }
        
        /* Mantener color de texto en hover */
        .btn-record:hover, .btn-play:hover {
            background-color: var(--shadow-color-light);
        }
        
        .btn-record:hover {
            background-color: var(--shadow-color-dark);
        }
        

        
        .btn-play:hover {
            background-color: var(--shadow-color-dark);
        }
        
        .header-button i {
            margin-right: 8px;
        }
        
        /* Terminal Footer Styles */
        .terminal-footer {
            background: var(--shadow-color-dark);
            border: 2px solid var(--shadow-color-light);
            border-radius: 4px;
            margin: 0 0 15px 0;
            padding: 10px;
            font-family: 'Press Start 2P', monospace;
            font-size: 10px;
            color: var(--bg-color);
            height: 40px;
            display: flex;
            align-items: center;
            overflow: visible;
            position: relative;
        }
        
        .terminal-content {
            display: flex;
            align-items: center;
            width: 100%;
        }
        
        .terminal-prompt {
            color: var(--accent-color);
            margin-right: 8px;
            font-weight: bold;
        }
        
        .terminal-text {
            color: var(--bg-color);
            word-wrap: break-word;
            flex: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .terminal-footer.info {
            background: var(--accent-color);
            border-color: var(--accent-color);
        }
        
        .terminal-footer.warning {
            background: var(--warning-color);
            border-color: var(--warning-color);
        }
        
        .terminal-footer.error {
            background: var(--error-color);
            border-color: var(--error-color);
        }
        

        
        /* Estilos para el botón de ayuda y su modal */
        .help-button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--shadow-color-dark);
            color: var(--bg-color);
            border: none;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 5px;
        }

        .help-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--bg-color);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            border: 2px solid var(--shadow-color-dark);
            max-width: 480px;
            max-height: 75vh;
            overflow-y: auto;
        }

        .help-content {
            position: relative;
            color: var(--shadow-color-dark);
        }

        .help-content h3 {
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 16px;
            text-align: center;
            color: var(--accent-color);
        }

        .help-section {
            margin-bottom: 12px;
            padding: 10px;
            background: var(--shadow-color-light);
            border-radius: 6px;
            border-left: 4px solid var(--accent-color);
        }

        .help-section h4 {
            margin: 0 0 8px 0;
            font-size: 13px;
            color: var(--accent-color);
            font-weight: bold;
        }

        .help-content ul {
            list-style: none;
            padding: 0;
            margin: 0;
            margin-bottom: 0;
        }

        .help-content li {
            margin: 5px 0;
            font-size: 11px;
            line-height: 1.3;
            padding-left: 8px;
            border-left: 2px solid var(--shadow-color-dark);
        }

        .help-content li strong {
            color: var(--accent-color);
            font-weight: bold;
        }

        .close-help {
            position: absolute;
            top: -10px;
            right: -10px;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--shadow-color-dark);
            color: var(--bg-color);
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }
        
        .section-title {
            font-family: 'Press Start 2P', monospace;
            color: var(--text-color);
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-align: center;
            margin: 15px 0 10px;
        }
        
        .sequencer-row {
            position: relative;
            margin-bottom: 12px;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
        }
        

        
        .tempo-controls {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            margin-bottom: 12px;
            gap: 10px;
        }
        
        .tempo-btn {
            font-size: 18px;
            font-weight: bold;
        }
        
        .tempo-display {
            font-family: 'Press Start 2P', monospace;
            color: var(--text-color);
            font-weight: 500;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .tap-tempo-btn {
            background-color: var(--bg-color);
            border: 2px solid var(--shadow-color-dark);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }
        
        .tap-tempo-btn:hover {
            background-color: var(--shadow-color-light);
            transform: translate(1px, 1px);
            box-shadow: 1px 1px 0 var(--shadow-color-dark);
        }
        
        .tap-tempo-btn:active {
            transform: translate(2px, 2px);
            box-shadow: 0px 0px 0 var(--shadow-color-dark);
        }
        
        .tap-tempo-btn.tapping {
            background-color: var(--accent-color);
            color: var(--bg-color);
            transform: scale(1.05);
        }
        
        .bar-label {
            color: var(--text-color);
            font-size: 10px;
        }
        
        .bar-btn {
            color: var(--text-color);
            font-weight: 500;
            font-size: 12px;
        }

        /* Bank Selector Styles - Updated for 8 buttons */
        .bank-selector-row {
            margin-bottom: 12px;
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 8px;
        }
        
        .bank-btn {
            font-weight: 500;
            transition: all 0.2s ease;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-size: 10px;
            padding: 8px 4px;
        }
        
        .bank-active {
            background-color: var(--shadow-color-dark);
            color: var(--bg-color) !important;
            font-weight: bold;
        }
        
        .btn-delete.delete-active {
            background-color: var(--gb-accent);
            color: var(--gb-text-inverse);
            font-weight: bold;
        }
        
        .bank-btn:hover:not(.bank-active):not(.delete-active) {
            background-color: var(--shadow-color-light);
        }
        
        /* Responsive adjustments for bank selector */
        @media (max-width: 768px) {
            .bank-selector-row {
                gap: 6px;
            }
            
            .bank-btn {
                font-size: 8px;
                padding: 6px 2px;
            }
        }
        
        @media (max-width: 480px) {
            .bank-selector-row {
                gap: 4px;
            }
            
            .bank-btn {
                font-size: 7px;
                padding: 4px 1px;
            }
        }

        /* Audio Control Sliders */
        .slider-row {
            margin-bottom: 12px;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
                        .audio-slider {
                    width: 100%;
                    height: 40px;
                    -webkit-appearance: none;
                    appearance: none;
            background: var(--bg-color);
            border: 2px solid var(--shadow-color-dark);
            border-radius: 0;
            outline: none;
            cursor: pointer;
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }
        
        .audio-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: var(--shadow-color-dark);
            border-radius: 0;
            cursor: pointer;
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }
        
        .audio-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: var(--shadow-color-dark);
            border-radius: 0;
            cursor: pointer;
            border: none;
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }
        
        .audio-slider::-webkit-slider-track {
            background: var(--shadow-color-light);
            border-radius: 0;
            height: 4px;
        }
        
        .audio-slider::-moz-range-track {
            background: var(--shadow-color-light);
            border-radius: 0;
            height: 4px;
        }
        
        
        
        /* Responsive adjustments for sliders */
        @media (max-width: 768px) {
            .slider-row {
                gap: 8px;
            }
            
            .audio-slider {
                height: 40px;
            }
            

        }
        
        @media (max-width: 480px) {
            .slider-row {
                gap: 6px;
            }
            
            .audio-slider {
                height: 40px;
            }
            

        }

        /* Input Status Indicator */
        .input-status {
            display: none;
        }

        /* Main Content Styles */
        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        /* Ensure consistent spacing between terminal footer and main */
        footer + main {
            margin-top: 15px;
        }

        .pad-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 10px;
            width: 100%;
            max-width: 100%;
        }

        .pad {
            position: relative;
            aspect-ratio: 1/1;
            border-radius: 0;
            background: var(--bg-color);
            box-shadow: 4px 4px 0 var(--shadow-color-dark);
            border: 2px solid var(--shadow-color-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.1s ease;
            user-select: none;
            -webkit-user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
            overflow: hidden;
        }

        /* Pad Active/Playing Enhanced Feedback */
        .pad.pad-active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
            background-color: var(--shadow-color-dark) !important;
        }



        /* Estados de Drag & Drop */
        .pad.drag-over {
            border: 3px dashed var(--shadow-color-dark);
            background: var(--shadow-color-light);
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }

        .pad.drag-valid {
            border-color: var(--shadow-color-dark);
            background: var(--shadow-color-light);
        }

        /* Sample Slicer Modal */
        .slicer-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 56, 15, 0.8);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .slicer-panel {
            background: var(--bg-color);
            border: 4px solid var(--shadow-color-dark);
            box-shadow: 8px 8px 0 var(--shadow-color-dark);
            padding: 30px;
            max-width: 400px;
            width: 90%;
            text-align: center;
        }

        .slicer-title {
            font-size: 20px;
            font-weight: bold;
            color: var(--text-color);
            margin-bottom: 10px;
            text-shadow: 2px 2px 0 var(--shadow-color-dark);
        }

        .slicer-info {
            color: var(--text-color);
            margin-bottom: 20px;
            font-size: 10px;
        }

        .slicer-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .slicer-btn {
            padding: 15px 25px;
            border: 2px solid var(--shadow-color-dark);
            box-shadow: 4px 4px 0 var(--shadow-color-dark);
            background: var(--bg-color);
            color: var(--text-color);
            font-family: 'Press Start 2P', monospace;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .slicer-btn:hover {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }

        .slicer-btn:active {
            transform: translate(4px, 4px);
            box-shadow: 0 0 0 var(--shadow-color-dark);
        }

        .slicer-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed !important;
            background: var(--shadow-color-dark) !important;
            color: var(--bg-color) !important;
            transform: none !important;
        }

        .slicer-btn:disabled:hover {
            transform: none !important;
            background: var(--shadow-color-dark) !important;
        }

        .slicer-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .slicer-cancel {
            padding: 10px 20px;
            background: var(--shadow-color-dark);
            color: var(--bg-color);
            border: 2px solid var(--shadow-color-dark);
            box-shadow: 4px 4px 0 var(--shadow-color-dark);
            cursor: pointer;
            font-family: 'Press Start 2P', monospace;
            font-size: 10px;
        }

        .slicer-cancel:hover {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }

        /* Indicador de slice en pads */
        .slice-indicator {
            position: absolute;
            bottom: 6px;
            right: 6px;
            background: var(--shadow-color-dark);
            color: var(--bg-color);
            font-size: 8px;
            padding: 2px 4px;
            border: 2px solid var(--shadow-color-dark);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
            z-index: 6;
            display: none;
            font-weight: bold;
            transform: translate(25%, 25%);
            min-width: 20px;
            text-align: center;
        }

        /* Botón para eliminar sample individual */
        .delete-pad-btn {
            position: absolute;
            top: 6px;
            right: 6px;
            width: 18px;
            height: 18px;
            background: var(--shadow-color-dark);
            color: var(--bg-color);
            border: 2px solid var(--shadow-color-dark);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
            font-size: 11px;
            font-weight: bold;
            cursor: pointer;
            z-index: 15;
            display: none;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            line-height: 1;
            pointer-events: auto;
            user-select: none;
            -webkit-user-select: none;
            -webkit-touch-callout: none;
            transform: translate(25%, -25%);
        }

        .delete-pad-btn:hover {
            transform: translate(25%, -25%) scale(1.1);
            box-shadow: 4px 4px 0 var(--shadow-color-dark);
        }

        .delete-pad-btn:active {
            transform: translate(25%, -25%) scale(0.9);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }

        /* Mostrar botón X solo cuando el pad tiene sample y se hace hover */
        .pad.loaded:hover .delete-pad-btn {
            display: flex;
        }

        /* En móviles, mantener el posicionamiento concéntrico */
        @media (max-width: 768px) {
            .pad.loaded .delete-pad-btn {
                display: flex;
                opacity: 0.8;
                width: 16px;
                height: 16px;
                font-size: 10px;
                top: 5px;
                right: 5px;
            }
            
            .pad.loaded .delete-pad-btn:hover {
                opacity: 1;
            }
            
            /* Slice indicator en móvil */
            .slice-indicator {
                bottom: 5px;
                right: 5px;
                font-size: 7px;
                padding: 1px 3px;
            }
        }

        /* En pantallas muy pequeñas */
        @media (max-width: 480px) {
            .delete-pad-btn {
                width: 14px;
                height: 14px;
                font-size: 9px;
                top: 4px;
                right: 4px;
            }
            
            .slice-indicator {
                bottom: 4px;
                right: 4px;
                font-size: 6px;
                padding: 1px 2px;
            }
        }

        /* Indicador de drop */
        .drop-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--shadow-color-dark);
            color: var(--bg-color);
            padding: 8px 12px;
            border: 2px solid var(--shadow-color-dark);
            box-shadow: 4px 4px 0 var(--shadow-color-dark);
            font-size: 10px;
            font-weight: bold;
            z-index: 10;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .pad.drag-over .drop-indicator {
            opacity: 1;
        }

        /* Indicador de move operation */
        .move-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--shadow-color-dark);
            color: var(--bg-color);
            padding: 8px 12px;
            border: 2px solid var(--shadow-color-dark);
            box-shadow: 4px 4px 0 var(--shadow-color-dark);
            font-size: 10px;
            font-weight: bold;
            z-index: 20;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .pad.selected-for-move .move-indicator {
            opacity: 1;
        }

        .pad:hover {
            background: var(--shadow-color-light);
        }

        /* Colores para diferentes tipos de pads */
        .pad:nth-child(4n+1) { 
            border-color: var(--shadow-color-dark);
        }
        .pad:nth-child(4n+2) { 
            border-color: var(--shadow-color-dark);
        }
        .pad:nth-child(4n+3) { 
            border-color: var(--shadow-color-dark);
        }
        .pad:nth-child(4n+4) { 
            border-color: var(--shadow-color-dark);
        }

        .pad:active, .pad.playing {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }

        .pad.loaded { opacity: 1; }

        .pad.loading {
            opacity: 0.5;
            animation: pulse 1.5s steps(4) infinite;
        }
        
        /* NEW: Visual indicator for full bank */
        .pad.full-bank {
            border-color: var(--braun-red);
            background: var(--shadow-color-dark);
            opacity: 0.7;
        }
        
        .pad.full-bank::after {
            content: "FULL";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--braun-red);
            color: var(--bg-color);
            padding: 4px 8px;
            font-size: 10px;
            font-weight: bold;
            border: 2px solid var(--braun-red);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
            z-index: 20;
        }

        .visualizer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(15, 56, 15, 0.1) !important;
            pointer-events: none;
            z-index: 1;
            border-radius: 0;
            overflow: hidden;
        }

        /* Etiquetas para mostrar el banco y nombre del sample */
        .sample-indicator {
            position: absolute;
            top: 5px;
            left: 5px;
            background-color: var(--shadow-color-dark);
            color: var(--bg-color);
            font-size: 8px;
            padding: 2px 4px;
            border: 2px solid var(--shadow-color-dark);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
            z-index: 5;
            display: none;
        }

        .sample-name {
            position: absolute;
            bottom: 5px;
            left: 5px;
            font-size: 8px;
            color: var(--text-color);
            max-width: calc(100% - 35px);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            z-index: 5;
            display: none;
        }

        /* Keyboard Indicator */
        .keyboard-indicator {
            position: absolute;
            top: 5px;
            left: 5px;
            background: var(--bg-color);
            color: var(--text-color);
            font-size: 8px;
            font-weight: bold;
            padding: 2px 4px;
            border: 2px solid var(--shadow-color-dark);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
            z-index: 7;
            display: none;
            transform: none;
        }

        .pad.loaded .keyboard-indicator {
            display: block;
        }

        /* Ajustes para móviles */
        @media (max-width: 768px) {
            .keyboard-indicator {
                top: 4px;
                left: 4px;
                font-size: 7px;
                padding: 1px 3px;
            }
        }

        @media (max-width: 480px) {
            .keyboard-indicator {
                top: 3px;
                left: 3px;
                font-size: 6px;
                padding: 1px 2px;
            }
        }

        /* Efectos de brillo específicos por tipo de pad cuando están activos */
        .pad:nth-child(4n+1).playing { 
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }
        .pad:nth-child(4n+2).playing { 
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }
        .pad:nth-child(4n+3).playing { 
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }
        .pad:nth-child(4n+4).playing { 
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }

        @keyframes pulse {
            0% { opacity: 0.3; }
            50% { opacity: 0.6; }
            100% { opacity: 0.3; }
        }

        /* Footer Styles */
        footer {
            margin-top: 30px;
            text-align: center;
            padding: 20px;
            border: 2px solid var(--shadow-color-dark);
            box-shadow: 4px 4px 0 var(--shadow-color-dark);
            background: var(--bg-color);
            color: var(--text-color);
            font-size: 10px;
        }



        /* Responsive Adjustments */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .title-container h1 { 
                font-size: 20px; 
                margin-bottom: 10px;
            }
            
            .section-title { 
                font-size: 10px; 
                margin: 12px 0 8px; 
            }
            
            .header-row { 
                gap: 8px;
                margin-bottom: 10px;
            }
            
            .header-button { 
                height: 40px; 
                font-size: 10px;
            }
            
            .empty-space { 
                height: 40px; 
            }
            
            .pad-grid { 
                gap: 8px; 
            }
            
            .tempo-btn {
                font-size: 14px;
            }
            
            .tempo-display,
            .bar-btn {
                font-size: 10px;
            }
            
            .bar-label {
                font-size: 8px;
            }
            
            footer {
                margin-top: 20px;
                padding: 10px;
                font-size: 8px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 5px;
            }
            
            .title-container h1 { 
                font-size: 16px; 
                margin-bottom: 8px;
            }
            
            .section-title { 
                font-size: 8px; 
                margin: 8px 0 5px; 
            }
            
            .header-row { 
                gap: 5px;
                margin-bottom: 8px;
            }
            
            .header-button { 
                height: 36px; 
                font-size: 8px;
                padding: 0 2px;
            }
            
            .empty-space { 
                height: 36px; 
            }
            
            .pad-grid { 
                gap: 5px; 
            }
            
            .tempo-btn {
                font-size: 12px;
            }
            
            .tempo-display,
            .bar-btn {
                font-size: 8px;
            }
            
            .bar-label {
                font-size: 6px;
            }
            
            footer {
                margin-top: 15px;
                padding: 8px;
                font-size: 6px;
            }
            

        }
        
        /* Ajustes específicos para teléfonos pequeños */
        @media (max-width: 360px) {
            .header-button {
                font-size: 6px;
                height: 32px;
                padding: 0;
            }
            
            .tempo-controls {
                gap: 3px;
            }
            
            .pad-grid {
                gap: 4px;
            }
            
            .slicer-panel {
                width: 95%;
                padding: 20px;
            }
            
            .slicer-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .slicer-btn {
                padding: 12px 20px;
                font-size: 10px;
            }
        }

        /* Estilos para el botón de slicer móvil */
        .btn-slicer {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-weight: normal;
            transition: all 0.2s ease;
        }

        .btn-slicer:hover {
            background-color: var(--shadow-color-light);
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }
        
        .btn-slicer:active {
            transform: translate(4px, 4px);
            box-shadow: 0 0 0 var(--shadow-color-dark);
        }
        
                .btn-slicer:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background: var(--shadow-color-dark) !important;
            color: var(--bg-color) !important;
            transform: none !important;
        }
        

        
        /* NEW: Estilos para el sistema de cuantización */
        .btn-quantize {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-weight: normal;
            transition: all 0.2s ease;
        }
        
        .btn-quantize:hover {
            background-color: var(--shadow-color-light);
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }
        
        .btn-quantize:active {
            transform: translate(4px, 4px);
            box-shadow: 0 0 0 var(--shadow-color-dark);
        }
        
        .btn-quantize.quantize-active {
            background-color: var(--accent-color);
            color: var(--bg-color);
        }
        
        .btn-quantize.quantize-active:hover {
            background-color: var(--shadow-color-dark);
        }
        

        
        /* Estilos para el modo slicer */
        .btn-slicer.slicer-active {
            background-color: var(--shadow-color-dark);
            color: var(--bg-color) !important;
            font-weight: bold;
        }
        
        .pad.slicer-selectable {
            border-color: var(--accent-color);
            box-shadow: 0 0 15px var(--accent-color);
            animation: slicerPulse 1s ease-in-out infinite alternate;
        }
        
        @keyframes slicerPulse {
            0% { 
                box-shadow: 0 0 15px var(--accent-color);
                transform: scale(1);
            }
            100% { 
                box-shadow: 0 0 25px var(--accent-color);
                transform: scale(1.02);
            }
        }
        
        /* Estilos para el modo delete pad - usando paleta preexistente */
        .btn-delete.delete-active {
            background-color: var(--gb-accent);
            color: var(--gb-text-inverse);
            transform: scale(1.05);
        }
        
        .pad.delete-selectable {
            border-color: var(--gb-accent);
            box-shadow: 0 0 15px var(--gb-accent);
            animation: deletePulse 1s ease-in-out infinite alternate;
        }
        
        @keyframes deletePulse {
            0% { 
                box-shadow: 0 0 15px var(--gb-accent);
                transform: scale(1);
            }
            100% { 
                box-shadow: 0 0 25px var(--gb-accent);
                transform: scale(1.02);
            }
        }
        
        /* Estilos para el botón EDIT activo */
        .btn-edit.edit-active {
            background-color: var(--gb-accent);
            color: var(--gb-text-inverse);
            transform: scale(1.05);
        }
        
        /* Estilos para el modal del editor */
        .audio-editor-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(15, 56, 15, 0.9);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .audio-editor-panel {
            background: var(--bg-color);
            border: 4px solid var(--shadow-color-dark);
            box-shadow: 8px 8px 0 var(--shadow-color-dark);
            padding: 30px;
            max-width: 600px;
            width: 90%;
            text-align: center;
        }

        .audio-editor-title {
            font-size: 20px;
            font-weight: bold;
            color: var(--text-color);
            margin-bottom: 15px;
            text-shadow: 2px 2px 0 var(--shadow-color-dark);
        }

        .audio-editor-info {
            color: var(--text-color);
            margin-bottom: 20px;
            font-size: 10px;
        }

        .audio-editor-info p {
            margin: 5px 0;
        }

        .waveform-container {
            margin: 20px 0;
            border: 2px solid var(--shadow-color-dark);
            background: var(--shadow-color-dark);
            min-height: 200px;
            border-radius: 0;
        }

        .audio-editor-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .audio-editor-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
        }

        .audio-editor-btn {
            padding: 10px 20px;
            margin: 5px;
            border: 2px solid var(--shadow-color-dark);
            box-shadow: 4px 4px 0 var(--shadow-color-dark);
            background: var(--bg-color);
            color: var(--text-color);
            font-family: 'Press Start 2P', monospace;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .audio-editor-btn:hover {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 var(--shadow-color-dark);
        }

        .audio-editor-btn:active {
            transform: translate(4px, 4px);
            box-shadow: 0 0 0 var(--shadow-color-dark);
        }

        .audio-editor-btn.primary {
            background: var(--gb-active);
            color: var(--gb-text-inverse);
        }

        .audio-editor-btn.primary:hover {
            background: var(--shadow-color-dark);
        }

        /* Estilos para pads seleccionables para edición */
        .pad.edit-selectable {
            border-color: var(--gb-accent);
            box-shadow: 0 0 15px var(--gb-accent);
            animation: editPulse 1s ease-in-out infinite alternate;
        }

        @keyframes editPulse {
            0% { 
                box-shadow: 0 0 15px var(--gb-accent);
                transform: scale(1);
            }
            100% { 
                box-shadow: 0 0 25px var(--gb-accent);
                transform: scale(1.02);
            }
        }

        /* Responsive para el editor */
        @media (max-width: 768px) {
            .audio-editor-panel {
                padding: 20px;
                max-width: 95%;
            }
            
            .audio-editor-controls,
            .audio-editor-actions {
                flex-direction: column;
                gap: 8px;
            }
            
            .audio-editor-btn {
                padding: 8px 16px;
                font-size: 10px;
            }
        }
        
        /* Responsive para el botón slicer */
        @media (max-width: 768px) {
            .btn-slicer {
                font-size: 10px;
                padding: 0 5px;
            }
            .btn-performance {
                font-size: 10px;
                padding: 0 5px;
            }
        }
        
        @media (max-width: 480px) {
            .btn-slicer {
                font-size: 8px;
                padding: 0 2px;
            }
        }
        
        
        
        /* Estilos para botones activos del secuenciador */
        .btn-record.active, .btn-play.active {
            background-color: var(--shadow-color-dark);
            color: var(--bg-color) !important;
            font-weight: bold;
        }
        
        /* Hover unificado para todos los botones del secuenciador */
        .sequencer-row .header-button:hover:not(.active) {
            background-color: var(--shadow-color-light);
        }
        

